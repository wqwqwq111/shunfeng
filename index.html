<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="å¿«é€’æŸ¥è¯¢ç³»ç»Ÿ">
    <title>å¿«é€’æŸ¥è¯¢ï¼ˆç®€çº¦ç‰ˆï¼‰</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ“¦</text></svg>">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background-color: #f5f5f5;
            min-height: 100vh;
            color: #333;
            line-height: 1.6;
            padding: 0;
        }
        
        .container {
            max-width: 100%;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
        }
        
        /* é¡ºä¸°é£æ ¼å¤´éƒ¨ */
        .header {
            background: #ba0021;
            color: white;
            padding: 20px 15px;
            position: relative;
        }
        
        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .logo-icon {
            font-size: 24px;
        }
        
        .logo-text {
            font-size: 18px;
            font-weight: 600;
        }
        
        .date-info {
            font-size: 14px;
            opacity: 0.9;
        }
        
        /* æŸ¥è¯¢åŒºåŸŸ */
        .query-section {
            padding: 20px 15px;
            background: white;
        }
        
        .input-group {
            margin-bottom: 15px;
        }
        
        .input-label {
            font-size: 14px;
            color: #333;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .input-field {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
            background: #fafafa;
        }
        
        .input-field:focus {
            outline: none;
            border-color: #ba0021;
            background: white;
        }
        
        .btn {
            width: 100%;
            padding: 14px;
            background: #ba0021;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            margin-top: 5px;
            transition: background 0.2s;
        }
        
        .btn:hover {
            background: #a0001a;
        }
        
        /* ç»“æœåŒºåŸŸ */
        .result-section {
            padding: 0 15px 20px;
            display: none;
        }
        
        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
            margin-bottom: 15px;
        }
        
        .result-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
        }
        
        .status-badge {
            font-size: 12px;
            padding: 4px 10px;
            border-radius: 12px;
            font-weight: 500;
        }
        
        .status-waiting {
            background: #fef0f0;
            color: #ba0021;
        }
        
        .status-shipping {
            background: #fff7e6;
            color: #fa8c16;
        }
        
        .status-arrived {
            background: #f6ffed;
            color: #52c41a;
        }
        
        /* æ—¶é—´çº¿ */
        .timeline {
            position: relative;
            padding-left: 20px;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            left: 7px;
            top: 0;
            bottom: 0;
            width: 1px;
            background: #ddd;
        }
        
        .timeline-item {
            margin-bottom: 20px;
            position: relative;
            opacity: 0.6;
        }
        
        .timeline-item.active {
            opacity: 1;
        }
        
        .timeline-dot {
            position: absolute;
            left: -20px;
            top: 0;
            width: 15px;
            height: 15px;
            background: white;
            border: 2px solid #ddd;
            border-radius: 50%;
            z-index: 1;
        }
        
        .timeline-item.active .timeline-dot {
            border-color: #ba0021;
            background: #ba0021;
        }
        
        .timeline-item.completed .timeline-dot {
            border-color: #52c41a;
            background: #52c41a;
        }
        
        .timeline-content {
            padding-bottom: 5px;
        }
        
        .timeline-title {
            font-weight: 600;
            font-size: 15px;
            color: #333;
            margin-bottom: 5px;
        }
        
        .timeline-date {
            font-size: 12px;
            color: #666;
            margin-bottom: 8px;
        }
        
        .timeline-desc {
            font-size: 14px;
            color: #666;
            line-height: 1.5;
        }
        
        .update-info {
            font-size: 12px;
            color: #999;
            text-align: center;
            padding-top: 15px;
            margin-top: 15px;
            border-top: 1px solid #eee;
        }
        
        /* é”™è¯¯ä¿¡æ¯ */
        .error-section {
            padding: 20px 15px;
            text-align: center;
            display: none;
        }
        
        .error-icon {
            font-size: 40px;
            color: #f5222d;
            margin-bottom: 15px;
        }
        
        .error-title {
            font-size: 16px;
            color: #333;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .error-message {
            font-size: 14px;
            color: #666;
        }
        
        /* åŠ è½½çŠ¶æ€ */
        .loader {
            text-align: center;
            padding: 30px 0;
            display: none;
        }
        
        .spinner {
            width: 30px;
            height: 30px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #ba0021;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 480px) {
            .header-content {
                flex-direction: column;
                align-items: flex-start;
                gap: 5px;
            }
            
            .date-info {
                align-self: flex-end;
                margin-top: -20px;
            }
        }
        
        @media (max-width: 360px) {
            .header {
                padding: 15px 12px;
            }
            
            .query-section, .result-section, .error-section {
                padding-left: 12px;
                padding-right: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- å¤´éƒ¨ -->
        <div class="header">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">ğŸ“¦</div>
                    <div class="logo-text">å¿«é€’æŸ¥è¯¢ï¼ˆç®€çº¦ç‰ˆï¼‰</div>
                </div>
                <div class="date-info" id="dateInfo">åŸºäºç³»ç»Ÿæ—¥æœŸ</div>
            </div>
        </div>
        
        <!-- æŸ¥è¯¢åŒºåŸŸ -->
        <div class="query-section">
            <div class="input-group">
                <div class="input-label">å¿«é€’å•å·</div>
                <input type="text" 
                       class="input-field"
                       id="trackingNumber" 
                       placeholder="è¯·è¾“å…¥å¿«é€’å•å·"
                       autocomplete="off"
                       spellcheck="false"
                       autofocus>
            </div>
            
            <button class="btn" onclick="checkExpressStatus()">
                æŸ¥è¯¢ç‰©æµçŠ¶æ€
            </button>
        </div>
        
        <!-- åŠ è½½çŠ¶æ€ -->
        <div class="loader" id="loader">
            <div class="spinner"></div>
            <p>æŸ¥è¯¢ä¸­...</p>
        </div>
        
        <!-- æŸ¥è¯¢ç»“æœ -->
        <div class="result-section" id="resultSection">
            <div class="result-header">
                <div class="result-title">ç‰©æµä¿¡æ¯</div>
                <div class="status-badge" id="currentStatus">å·²å‘è´§</div>
            </div>
            
            <div class="timeline" id="timeline">
                <!-- æ—¶é—´çº¿å†…å®¹ä¼šåŠ¨æ€ç”Ÿæˆ -->
            </div>
            
            <div class="update-info" id="updateInfo">
                æœ€åæŸ¥è¯¢: <span id="currentTime"></span>
            </div>
        </div>
        
        <!-- é”™è¯¯ä¿¡æ¯ -->
        <div class="error-section" id="errorSection">
            <div class="error-icon">âŒ</div>
            <div class="error-title">æŸ¥è¯¢å¤±è´¥</div>
            <div class="error-message">è¯·è¾“å…¥æ­£ç¡®çš„å¿«é€’å•å·</div>
        </div>
    </div>

    <script>
        // ==================== é…ç½®åŒºåŸŸ ====================
        const CONFIG = {
            // æœ‰æ•ˆå•å·åˆ—è¡¨ï¼ˆå¤§å°å†™ä¸æ•æ„Ÿï¼‰
            validTrackingNumbers: [
                "SF3254742411",
                "SF123456",
                "YT888888",
                "EXP202601"
            ],
            
            // æ¯ä¸ªå•å·çš„å‘è´§æ—¥æœŸï¼ˆYYYY-MM-DDæ ¼å¼ï¼‰
            shippingDates: {
                "SF3254742411": "2026-01-23",  // ä»1æœˆ23æ—¥å¼€å§‹è®¡ç®—
                "SF123456": "2026-01-18",
                "YT888888": "2026-01-17",
                "EXP202601": "2026-01-20"
            }
        };
        
        // è·å–å½“å‰æ—¶é—´çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²
        function getCurrentTime() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const seconds = now.getSeconds().toString().padStart(2, '0');
            return `${hours}:${minutes}:${seconds}`;
        }
        
        // è·å–å½“å‰æ—¥æœŸçš„æ ¼å¼åŒ–å­—ç¬¦ä¸²
        function getCurrentDate() {
            const now = new Date();
            const year = now.getFullYear();
            const month = (now.getMonth() + 1).toString().padStart(2, '0');
            const day = now.getDate().toString().padStart(2, '0');
            return `${year}-${month}-${day}`;
        }
        
        // è·å–å½“å‰æ—¥æœŸçš„æ˜ŸæœŸå‡ 
        function getCurrentWeekday() {
            const now = new Date();
            const weekdays = ['å‘¨æ—¥', 'å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­'];
            return weekdays[now.getDay()];
        }
        
        // æ›´æ–°æ˜¾ç¤ºçš„æ—¶é—´
        function updateTimeDisplay() {
            const timeElement = document.getElementById('currentTime');
            if (timeElement) {
                const currentTime = getCurrentTime();
                timeElement.textContent = currentTime;
            }
        }
        
        // éªŒè¯è¾“å…¥çš„å¿«é€’å•å·æ˜¯å¦æœ‰æ•ˆ
        function validateTrackingNumber(trackingNumber) {
            // æ¸…ç†è¾“å…¥ï¼šç§»é™¤ç©ºæ ¼ï¼Œè½¬æ¢ä¸ºå¤§å†™
            const cleanNumber = trackingNumber.trim().toUpperCase();
            
            // æ£€æŸ¥å•å·æ˜¯å¦åœ¨æœ‰æ•ˆåˆ—è¡¨ä¸­
            return CONFIG.validTrackingNumbers.includes(cleanNumber);
        }
        
        // è®¡ç®—å¤©æ•°å·®ï¼ˆå½“å‰æ—¥æœŸ - å‘è´§æ—¥æœŸï¼‰
        function calculateDaysDifference(startDate, currentDate) {
            const start = new Date(startDate);
            const current = new Date(currentDate);
            
            // è®¾ç½®ä¸ºåŒä¸€å¤©çš„0ç‚¹ï¼Œé¿å…æ—¶é—´å½±å“
            start.setHours(0, 0, 0, 0);
            current.setHours(0, 0, 0, 0);
            
            // è®¡ç®—å¤©æ•°å·®ï¼ˆæ¯«ç§’è½¬å¤©ï¼‰
            const timeDiff = current.getTime() - start.getTime();
            return Math.floor(timeDiff / (1000 * 3600 * 24));
        }
        
        // æ£€æŸ¥æ˜¯å¦åˆ°è¾¾ç›®æ ‡æ—¥æœŸ
        function isTargetDate(targetDateStr) {
            const targetDate = new Date(targetDateStr);
            const currentDate = new Date();
            
            // è®¾ç½®ä¸ºåŒä¸€å¤©çš„0ç‚¹ï¼Œé¿å…æ—¶é—´å½±å“
            targetDate.setHours(0, 0, 0, 0);
            currentDate.setHours(0, 0, 0, 0);
            
            // å¦‚æœå½“å‰æ—¥æœŸç­‰äºç›®æ ‡æ—¥æœŸï¼Œè¿”å›true
            return currentDate.getTime() === targetDate.getTime();
        }
        
        // ç”Ÿæˆæ—¶é—´çº¿æ•°æ® - æ­¦æ±‰åˆ°æˆéƒ½çš„å¿«é€’è·¯çº¿
        function generateTimeline(startDate, currentDay) {
            const timelineData = [];
            const start = new Date(startDate);
            
            // è·å–å½“å‰æ—¶é—´
            const currentTime = getCurrentTime();
            
            // è®¡ç®—ç›®æ ‡åˆ°è¾¾æ—¥æœŸï¼ˆå‘è´§æ—¥æœŸ+2å¤©ï¼Œå³ç¬¬ä¸‰å¤©åˆ°è¾¾ï¼‰
            const targetArrivalDate = new Date(start);
            targetArrivalDate.setDate(targetArrivalDate.getDate() + 2);
            const hasArrived = currentDay >= 2;
            
            // ç¬¬1å¤©ï¼šå·²å‘è´§ (1æœˆ23æ—¥)
            // åªæœ‰åœ¨1æœˆ23æ—¥æˆ–ä¹‹åæ‰æ˜¾ç¤º
            const day1Date = new Date(start);
            let day1Desc = "å•†å®¶å·²å‘è´§ï¼Œç­‰å¾…å¿«é€’å‘˜å–ä»¶ã€‚";
            
            // å¦‚æœæ˜¯1æœˆ24æ—¥æˆ–ä¹‹åï¼Œä¿®æ”¹å†…å®¹
            if (currentDay >= 1) {
                day1Desc = "åŒ…è£¹ä»æ­¦æ±‰å‘å‡ºï¼ŒåŒ…è£¹è¢«å¸¦å›è¯¥åŒºåŸŸçš„å¿«é€’ç½‘ç‚¹ï¼Œè¿›è¡Œåˆæ­¥æ‰«æå’Œåˆ†æ‹£ï¼Œå°†å»å¾€ 'å››å· / æˆéƒ½' æ–¹å‘çš„åŒ…è£¹é›†ä¸­å·²é€è¾¾ã€‚";
            }
            
            if (currentDay >= 0) {
                timelineData.push({
                    day: 1,
                    date: formatDate(day1Date),
                    time: currentDay >= 0 ? currentTime : "",
                    title: "å·²å‘è´§",
                    description: day1Desc,
                    isActive: currentDay >= 0,
                    isCompleted: currentDay >= 0,
                    shouldShow: currentDay >= 0
                });
            }
            
            // ç¬¬2å¤©ï¼šè¿è¾“ä¸­ (1æœˆ24æ—¥)
            // åªæœ‰åœ¨1æœˆ24æ—¥æˆ–ä¹‹åæ‰æ˜¾ç¤º
            if (currentDay >= 1) {
                const day2Date = new Date(start);
                day2Date.setDate(day2Date.getDate() + 1);
                
                timelineData.push({
                    day: 2,
                    date: formatDate(day2Date),
                    time: currentDay >= 1 ? currentTime : "",
                    title: "è¿è¾“ä¸­",
                    description: "åŒ…è£¹æŠµè¾¾æˆéƒ½æœºåœºè´§è¿ç«™ï¼Œè½¬è¿è‡³æˆéƒ½åŒæµèˆªç©ºæ¸¯è½¬è¿ä¸­å¿ƒã€‚å·²åˆ°è¾¾ã€‚",
                    isActive: currentDay >= 1,
                    isCompleted: currentDay >= 1,
                    shouldShow: currentDay >= 1
                });
            }
            
            // ç¬¬3å¤©ï¼šå·²é€è¾¾ (1æœˆ25æ—¥)
            // åªæœ‰åœ¨1æœˆ25æ—¥æˆ–ä¹‹åæ‰æ˜¾ç¤º
            if (currentDay >= 2) {
                const day3Date = new Date(start);
                day3Date.setDate(day3Date.getDate() + 2);
                
                timelineData.push({
                    day: 3,
                    date: formatDate(day3Date),
                    time: currentDay >= 2 ? currentTime : "",
                    title: "å·²é€è¾¾",
                    description: "åŒ…è£¹å·²åˆ°è¾¾å®¢æˆ·æŒ‡å®šåœ°ç‚¹ã€‚",
                    isActive: currentDay >= 2,
                    isCompleted: currentDay >= 2,
                    shouldShow: currentDay >= 2
                });
            }
            
            return timelineData;
        }
        
        // æ ¼å¼åŒ–æ—¥æœŸä¸ºä¸­æ–‡
        function formatDate(date) {
            const month = date.getMonth() + 1;
            const day = date.getDate();
            const weekdays = ['å‘¨æ—¥', 'å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­'];
            const weekday = weekdays[date.getDay()];
            return `${month}æœˆ${day}æ—¥ ${weekday}`;
        }
        
        // ç¡®å®šå½“å‰çŠ¶æ€
        function getCurrentStatus(dayDiff) {
            if (dayDiff < 0) {
                return { name: "æœªå‘è´§", className: "status-waiting" };
            } else if (dayDiff === 0) {
                return { name: "å·²å‘è´§", className: "status-waiting" };
            } else if (dayDiff === 1) {
                return { name: "è¿è¾“ä¸­", className: "status-shipping" };
            } else if (dayDiff >= 2) {
                return { name: "å·²é€è¾¾", className: "status-arrived" };
            }
            
            return { name: "å·²å‘è´§", className: "status-waiting" };
        }
        
        // æŸ¥è¯¢å¿«é€’çŠ¶æ€
        function checkExpressStatus() {
            const trackingNumber = document.getElementById('trackingNumber').value;
            
            // éšè—æ‰€æœ‰å¯èƒ½æ˜¾ç¤ºçš„åŒºåŸŸ
            document.getElementById('resultSection').style.display = 'none';
            document.getElementById('errorSection').style.display = 'none';
            document.getElementById('loader').style.display = 'block';
            
            // æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ
            setTimeout(() => {
                processQuery(trackingNumber);
            }, 800);
        }
        
        // å¤„ç†æŸ¥è¯¢é€»è¾‘
        function processQuery(trackingNumber) {
            // éšè—åŠ è½½çŠ¶æ€
            document.getElementById('loader').style.display = 'none';
            
            // éªŒè¯å•å·
            if (!validateTrackingNumber(trackingNumber)) {
                // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
                document.getElementById('errorSection').style.display = 'block';
                
                // æ»šåŠ¨åˆ°é”™è¯¯åŒºåŸŸ
                setTimeout(() => {
                    document.getElementById('errorSection').scrollIntoView({
                        behavior: 'smooth',
                        block: 'center'
                    });
                }, 100);
                return;
            }
            
            // å•å·æœ‰æ•ˆï¼Œç»§ç»­å¤„ç†
            const cleanNumber = trackingNumber.trim().toUpperCase();
            
            // è·å–å‘è´§æ—¥æœŸ
            let orderDate = CONFIG.shippingDates[cleanNumber];
            
            // å¦‚æœæ²¡æœ‰é¢„è®¾å‘è´§æ—¥æœŸï¼Œä½¿ç”¨ä»Šå¤©
            if (!orderDate) {
                orderDate = new Date().toISOString().split('T')[0];
            }
            
            const today = getCurrentDate();
            
            // è®¡ç®—å¤©æ•°å·®
            const dayDiff = calculateDaysDifference(orderDate, today);
            
            // è·å–å½“å‰çŠ¶æ€
            const statusInfo = getCurrentStatus(dayDiff);
            
            // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
            const statusElement = document.getElementById('currentStatus');
            statusElement.textContent = statusInfo.name;
            statusElement.className = "status-badge " + statusInfo.className;
            
            // ç”Ÿæˆæ—¶é—´çº¿
            const timelineData = generateTimeline(orderDate, dayDiff);
            const timelineElement = document.getElementById('timeline');
            timelineElement.innerHTML = '';
            
            if (timelineData.length === 0) {
                // å¦‚æœæ²¡æœ‰æ—¶é—´çº¿æ•°æ®ï¼Œæ˜¾ç¤ºæç¤º
                timelineElement.innerHTML = '<p style="text-align: center; color: #666; padding: 20px 0;">åŒ…è£¹è¿˜æœªå‘è´§ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚</p>';
            } else {
                // æ˜¾ç¤ºæ—¶é—´çº¿æ•°æ®
                timelineData.forEach(item => {
                    const itemDiv = document.createElement('div');
                    
                    // è®¾ç½®CSSç±»
                    let className = 'timeline-item';
                    if (item.isCompleted) {
                        className += ' completed';
                    }
                    if (item.isActive) {
                        className += ' active';
                    }
                    itemDiv.className = className;
                    
                    // æ ¼å¼åŒ–æ—¶é—´æ˜¾ç¤º
                    let timeDisplay = item.date;
                    if (item.time) {
                        timeDisplay += ` ${item.time}`;
                    }
                    
                    itemDiv.innerHTML = `
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="timeline-title">${item.title}</div>
                            <div class="timeline-date">${timeDisplay}</div>
                            <div class="timeline-desc">${item.description}</div>
                        </div>
                    `;
                    
                    timelineElement.appendChild(itemDiv);
                });
            }
            
            // æ˜¾ç¤ºç»“æœåŒºåŸŸ
            document.getElementById('resultSection').style.display = 'block';
            
            // æ›´æ–°æœ€åæŸ¥è¯¢æ—¶é—´
            updateTimeDisplay();
            
            // æ»šåŠ¨åˆ°ç»“æœåŒºåŸŸ
            setTimeout(() => {
                document.getElementById('resultSection').scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }, 100);
        }
        
        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // æ›´æ–°å½“å‰æ—¥æœŸæ˜¾ç¤º
            const now = new Date();
            const year = now.getFullYear();
            const month = now.getMonth() + 1;
            const day = now.getDate();
            const weekdays = ['å‘¨æ—¥', 'å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­'];
            const weekday = weekdays[now.getDay()];
            
            document.getElementById('dateInfo').textContent = `${year}å¹´${month}æœˆ${day}æ—¥ ${weekday}`;
            
            // æŒ‰å›è½¦é”®æŸ¥è¯¢
            document.getElementById('trackingNumber').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    checkExpressStatus();
                }
            });
            
            // è¾“å…¥æ¡†è·å¾—ç„¦ç‚¹æ—¶å…¨é€‰æ–‡æœ¬
            document.getElementById('trackingNumber').addEventListener('focus', function() {
                this.select();
            });
        });
        
        // æ·»åŠ é¡µé¢å¯è§æ€§æ£€æµ‹ï¼Œå½“é¡µé¢é‡æ–°å¯è§æ—¶æ›´æ–°æ—¶é—´
        document.addEventListener('visibilitychange', function() {
            if (!document.hidden) {
                updateTimeDisplay();
            }
        });
    </script>
</body>
</html>
